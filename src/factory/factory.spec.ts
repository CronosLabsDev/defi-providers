import { Test, TestingModule } from '@nestjs/testing';
import { FactoryService } from './factory.service';
import { AppModule } from '../app.module';
import { Tezos } from '../web3Provider/tezos';

describe('providers', () => {
  let factoryService: FactoryService;
  let tezos: Tezos;
  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      imports: [AppModule],
    }).compile();
    factoryService = module.get(FactoryService);
    tezos = module.get(Tezos);
  });

  describe('aurora', () => {
    it('aurigami block: 80260740', async () => {
      const { balances } = await factoryService.getTvl({
        provider: 'aurigami',
        chain: 'aurora',
        query: { block: '80260740', date: '0' },
      });
      expect(balances).toEqual({
        '0xb12bfca5a55806aaf64e99521918a4bf0fc40802': '1701698217203',
        '0xc9bdeed33cd01541e1eed10f90519d2c06fe3feb': '620827366841303074624',
        '0xf4eb217ba2454613b15dbdea6e5f22276410e89e': '3284141927',
        '0x4988a896b1227218e4a686fde5eabdcabd91571f': '753680071250',
        '0xe3520349f477a5f6eb06107066048508498a291b': '34013113796702948047',
        '0xc42c30ac6cc15fac9bd938618bcaa1a1fae8501d':
          '249149075596122393035185496636',
        '0x07f9f7f963c5cd2bbffd30ccfb964be114332e30':
          '529358015478955817355719685377',
        '0x8bec47865ade3b172a928df8f990bc7f2a3b9f79': '27934052027757833749135',
        '0xfa94348467f64d5a457f75f8bc40495d33c65abb':
          '1080246373909790689993847',
        '0x09c9d464b58d96837f8d8b6f4d9fe4ad408d3a4f':
          '199562890296646164300264174',
        '0x5183e1b1091804bc2602586919e6880ac1cf2896': '1462156878911252687019',
      });
    });
    it('auroraplus block: 80186813', async () => {
      const { balances } = await factoryService.getTvl({
        provider: 'auroraplus',
        chain: 'aurora',
        query: { block: '80186813', date: '0' },
      });
      expect(balances).toEqual({
        '0x8bec47865ade3b172a928df8f990bc7f2a3b9f79':
          '23420161023997237558857267',
      });
    });
  });

  describe('avalanche', () => {
    it('aave block: 23370388', async () => {
      const { balances } = await factoryService.getTvl({
        provider: 'aave',
        chain: 'avalanche',
        query: { block: '23370388', date: '0' },
      });
      expect(balances).toEqual({
        '0xd586e7f844cea2f87f50152665bcbc2c279d8d70':
          '22887875998341266141081534',
        '0x5947bb275c521040051d82396192181b413227a3':
          '239219843948396511112293',
        '0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e': '129310978686978',
        '0x50b7545627a5162f82a992c33b87adc75187b218': '173883535077',
        '0x49d5c2bdffac6ce2bfdb6640f4f80f226bc10bab': '38794039440157693102819',
        '0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7': '25443493581760',
        '0x63a72806098bd3d9520cc43356dd78afe5d386d9': '10537123225877654783815',
        '0xb31f66aa3c1e785363f0875a1b74e27b85fd66c7':
          '1846310368905406256734431',
        '0x2b2c81e08f1af8835a78bb2a90ae924ace0ea4be':
          '771998421105064576392043',
        '0xd24c2ad096400b6fbcd2ad8b24e7acbc21a1da64': '10536620294232566847866',
        '0x5c49b268c9841aff1cc3b0a418ff5c3442ee3f3b': '184730952176462766373',
        '0x152b9d0fdc40c096757f570a51e494bd4b943e50': '216396114063',
        '0xc7198437980c041c805a1edcba50c1ce5db95118': '1356781757156',
        '0xa7d7079b0fead91f3e65f86e8915cb59c1a4c664': '7029438939564',
      });
    });
    it('alpha block: 23412552', async () => {
      const { balances } = await factoryService.getTvl({
        provider: 'alpha',
        chain: 'avalanche',
        query: { block: '23412552', date: '0' },
      });
      expect(balances).toEqual({
        '0xb31f66aa3c1e785363f0875a1b74e27b85fd66c7':
          '491517113005861091258220.24912874985350448278',
        '0xc7198437980c041c805a1edcba50c1ce5db95118':
          '927139836190.41396629439721491318',
        '0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e':
          '2290085929341.33322517788873781183',
        '0xa7d7079b0fead91f3e65f86e8915cb59c1a4c664':
          '3316858740786.88081896728776697492',
        '0xd586e7f844cea2f87f50152665bcbc2c279d8d70':
          '268323443352563677638794.58116093092566013331',
        '0x49d5c2bdffac6ce2bfdb6640f4f80f226bc10bab':
          '194473835346371495135.20525047278698269334',
        '0x50b7545627a5162f82a992c33b87adc75187b218':
          '3237443153.23076668620242061535',
        '0x130966628846bfd36ff31a822705796e8cb8c18d':
          '129817403602815847011493.3068010407111510088',
        '0x2147efff675e4a4ee1c2f918d181cdbd7a8e208f':
          '430683032386342546712885.4351087884646536134',
        '0x5947bb275c521040051d82396192181b413227a3':
          '17755245397120712312.94424092575760948836',
        '0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7':
          '786303274996.32347392054715894187',
        '0xb599c3590f42f8f995ecfa0f85d2980b76862fc1':
          '487262830.3255116774057032308',
      });
    });
  });

  describe('bsc', () => {
    it('abracadabra block: 23901500', async () => {
      const { balances } = await factoryService.getTvl({
        provider: 'abracadabra',
        chain: 'bsc',
        query: { block: '23901500', date: '0' },
      });
      expect(balances).toEqual({
        '0x0e09fabb73bd3ade0a17ecc321fd13a19e81ce82': '5286217388995797811410',
        '0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c': '1201354582193401320150',
      });
    });
    it('acryptos block: 23873218', async () => {
      const { balances } = await factoryService.getTvl({
        provider: 'acryptos',
        chain: 'bsc',
        query: { block: '23873218', date: '0' },
      });
      expect(balances).toEqual({
        '0x4197c6ef3879a08cd51e5560da5064b773aa1d29':
          '19704714608786657251236.47379547507415758608',
        '0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c':
          '1630853964303461190550.02368008891085363176',
        '0x47bead2563dcbf3bf2c9407fea4dc236faba485a':
          '111617461868593030038978.81037479962899976382',
        '0x9c65ab58d8d978db963e63f2bfb7121627e3a739':
          '140052442822432097168789.80247642683355663088',
        '0x2170ed0880ac9a755fd29b2688956bd959f933f8':
          '2241421722603076133942.22969658389860020022',
        '0x7130d2a12b9bcbfae4f2634d864a1ee1ce3ead9c':
          '6321464203340832438.92430793609953526131',
        '0xe9e7cea3dedca5984780bafc599bd69add087d56':
          '442340594279172615599991.27655510409244347478',
        '0x55d398326f99059ff775485246999027b3197955':
          '247292256148774504189964.46164709259806872857',
        '0x0e09fabb73bd3ade0a17ecc321fd13a19e81ce82':
          '44556937880604354708168.02878174429736348045',
        '0xcf6bb5389c92bdda8a3747ddb454cb7a64626c63':
          '40656966625922754057964.41953994102198333518',
        '0x4338665cbb7b2485a8855a139b75d5e34ab0db94':
          '805517101761190457656.52860429331008470528',
        '0x8ff795a6f4d97e7887c79bea79aba5cc76444adf': '1096251288885456663',
        '0x7083609fce4d1d8dc0c979aab8c869ea2c873402':
          '4001733132395276460496.2606328833398500858',
        '0xf8a0bf9cf54bb92f17374d9e9a321e6a111a51bd':
          '4382016582120062563616.45095379108091098244',
        '0x3ee2200efb3400fabb9aacf31297cbdd1d435d47':
          '105474758117789997284625.99796592278415016537',
        '0x1d2f0da169ceb9fc7b3144628db156f3f6c60dbe':
          '168363093125570798469086.48849983191018609838',
        '0x250632378e573c6be1ac2f97fcdf00515d0aa91b': '32159355786642479452',
        '0x4bd17003473389a42daf6a0a729f6fdb328bbbd7':
          '144503139523649007965124',
        '0x1af3f329e8be154074d8769d1ffa4ee058b1dbc3':
          '190710261520319086362699.53011641275689515922',
        '0x8ac76a51cc950d9822d68b83fe1ad97b32cd580d':
          '264649252859115671483728.1425554355255841644',
        '0x5b17b4d5e4009b5c43e3e3d63a5229f794cba389':
          '1131030897535670578950826',
        '0x5f84ce30dc3cf7909101c69086c50de191895883':
          '2757337231519904479904833.2117462032670573931',
        '0xbf5140a22578168fd562dccf235e5d43a02ce9b1':
          '236021873469218674313.53345460309592995432',
        '0xad6caeb32cd2c308980a548bd0bc5aa4306c6c18':
          '1551022485919818329208.8473235266992211232',
        '0xb86abcb37c3a4b64f74f59301aff131a1becc787':
          '22459141887496536.69281871019666639909',
        '0x4b0f1812e5df2a09796481ff14017e6005508003':
          '724018286734288719136.0536641575404915',
        '0x78650b139471520656b9e7aa7a5e9276814a38e9':
          '330555979782823880360.9189731075805688957',
        '0xd41fdb03ba84762dd66a0af1a6c8540ff1ba5dfb':
          '3032073765861666933795.89809420645319941311',
        '0x9f589e3eabe42ebc94a44727b3f3531c0c877809':
          '1935102855291792365999.16076948580038205446',
        '0x2222227e22102fe3322098e4cbfe18cfebd57c95':
          '751781994.3172270970575438283',
        '0xac51066d7bec65dc4589368da368b212745d63e8':
          '1607581789.1325843231045228654',
        '0x928e55dab735aa8260af3cedada18b5f70c72f1b':
          '906133653845903122868.22594425436273446743',
        '0x7a9f28eb62c791422aa23ceae1da9c847cbec9b0':
          '9490071136153323043959.50282620836224842938',
        '0x71de20e0c4616e7fcbfdd3f875d568492cbe4739':
          '1511998772921303601851.93536299763313063346',
        '0xa1faa113cbe53436df28ff0aee54275c13b40975':
          '9216422617839485342097.90714660571146411645',
        '0xf21768ccbc73ea5b6fd3c687208a7c2def2d966e':
          '115885856434449004255562.9644490921191996128',
        '0xa8c2b8eec3d368c0253ad3dae65a5f2bbb89c929':
          '170006010.97253814629897042696',
        '0x14016e85a25aeb13065688cafb43044c2ef86784':
          '8986668284029004045.06749707935800937096',
        '0x658a109c5900bc6d2357c87549b651670e5b0539':
          '453144712683386050721.48077464450775547882',
        '0xeca41281c24451168a37211f0bc2b8645af45092':
          '39670272.53377271260351705212',
        '0x23396cf899ca06c4472205fc903bdb4de249d6fc':
          '37854608493477180901081.1815878495623496756',
        '0x5b6dcf557e2abe2323c48445e8cc948910d8c2c9':
          '2100796972189560.15763855337550283146',
        '0x52ce071bd9b1c4b00a0b92d298c512478cad67e8':
          '33833226390050872768.91763977894326279992',
        '0x947950bcc74888a40ffa2593c5798f11fc9124c4':
          '1489736619328786182924.73558753509780427437',
        '0xb8c540d00dd0bf76ea12e4b4b95efc90804f924e': '1193117000799729133383',
        '0x7b65b489fe53fce1f6548db886c08ad73111ddd8': '892596482807842128570',
        '0xfce146bf3146100cfe5db4129cf6c82b0ef4ad8c': '739062',
        '0xed28a457a5a76596ac48d87c0f577020f6ea1c4c': '146607531002992286',
      });
    });
  });

  describe('celo', () => {
    it('immortal block: 16584054', async () => {
      const { balances } = await factoryService.getTvl({
        provider: 'immortal',
        chain: 'celo',
        query: { block: '16584054', date: '0' },
      });
      expect(balances).toEqual({
        '0x918146359264c492bd6934071c6bd31c854edbc3':
          '77415191059008427734358.11573153686061103281',
        '0xe685d21b7b0fc7a248a6a8e03b8db22d013aa2ee':
          '748561656261812.13521365750601670909',
      });
    });
    it('impactmarket block: 16584079', async () => {
      const { balances } = await factoryService.getTvl({
        provider: 'impactmarket',
        chain: 'celo',
        query: { block: '16584079', date: '0' },
      });
      expect(balances).toEqual({
        '0x46c9757c5497c5b1f2eb73ae79b6b67d119b0b58':
          '2000000000000000000000000000',
      });
    });
  });

  describe('ethereum', () => {
    it('aave block: 16184095', async () => {
      const { balances } = await factoryService.getTvl({
        provider: 'aave',
        chain: 'ethereum',
        query: { block: '16184095', date: '0' },
      });
      expect(balances).toEqual({
        '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2':
          '253134934668607530473166',
        '0x6b175474e89094c44da98b954eedeac495271d0f':
          '90546974740053526774649075',
        '0x0000000000085d4780b73119b644ae5ecd22b376':
          '7007049552642673310408737',
        '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48': '446375802121606',
        '0xdac17f958d2ee523a2206206994597c13d831ec7': '98605405492738',
        '0x57ab1ec28d129707052df4df418d58a2d46d5f51':
          '1007438789190311410756772',
        '0x80fb784b7ed66730e8b1dbd9820afd29931aab03':
          '139053351877225856932493',
        '0x0d8775f648430679a709e98d2b0cb6250d2887ef':
          '13449647043558818488082319',
        '0x514910771af9ca656af840dff83e8264ecf986ca':
          '12966280485013171564772636',
        '0xdd974d5c2e2928dea5f71b9825b8b646686bd200':
          '175309008513418867430621',
        '0x1985365e9f78359a9b6ad760e32412f4a445e862': '135668491032519384565',
        '0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2': '35631535129532491852142',
        '0x0f5d2fb29fb7d3cfee444a200298f468908cc942':
          '11969746397028531816075141',
        '0xe41d2489571d322189246dafa5ebde1f4699f498':
          '50975377361062968456217460',
        '0xc011a73ee8576fb46f5e1c5751ca3b9fe0af2a6f':
          '2141256444417554277912790',
        '0x2260fac5e5542a773aa44fbcfedf7c193bc2c599': '2941174975660',
        '0x4fabb145d64652a948d72533023f6e7a623c7c53':
          '10250669432654179291134726',
        '0xf629cbd94d3791c9250152bd8dfbdf380e2a3b9c':
          '6626380741113478045913814',
        '0x408e41876cccdc0f92210600ef50372656052a38':
          '5932177016502043893153485',
        '0x0bc529c00c6401aef6d220be8c6ea1667f6ad93e': '874916775797688283911',
        '0x7fc66500c84a76ad7e9c93437bfc5ac33e2ddae9':
          '4407410263822947222725262',
        '0x1f9840a85d5af5bf1d1762f925bdaddc4201f984':
          '2234694619331634670560771',
        '0xd533a949740bb3306d119cc777fa900ba034cd52':
          '62287600372249650745390124',
        '0x056fd409e1d7a124bd7017459dfea2f387b6d5cd': '126104326',
        '0xba100000625a3754423978a60c9317c58a424e3d':
          '173937101891999487756562',
        '0x8798249c2e607446efb7ad49ec89dd1865ff4272':
          '7503255633698107105093414',
        '0xd5147bc8e386d91cc5dbe72099dac6c9b99276f5': '0',
        '0x03ab458634910aad20ef5f1c8ee96f1d6ac54919': '57432429658726134960734',
        '0xd46ba6d942050d489dbd938a2c909a5d5039a161': '518317833535071',
        '0x8e870d67f660d95d5be530380d0ec0bd388289e1':
          '446472572098252731876369',
        '0x1494ca1f11d487c2bbe4543e90080aeba4ba3c2b': '43825452595152732725450',
        '0x853d955acef822db058eb8505911ed77f175b99e':
          '3953314807475066888246082',
        '0x956f47f50a910163d8bf957cf5846d573e7f87ca': '0',
        '0xae7ab96520de3a18e5e111b5eaab095312d7fe84':
          '1004702711714385519233809',
        '0xc18360217d8f7ab5e7c516566761ea12ce7f9d72':
          '718407440408795692415502',
        '0xa693b19d2931d498c5b318df961919bb4aee87a5': '10169669980517',
        '0x4e3fbd56cd56c3e72c1403e103b45db9da5b9d2b':
          '408131327607612969408140',
        '0x111111111117dc0aa78b770fa6a738034120c302':
          '10162321547090020609753835',
        '0x5f98805a4e8be255a32880fdec7f6728c6568ba0':
          '928816842641744802253543',
      });
    });
    it('bancor block: 16184095', async () => {
      const { balances } = await factoryService.getTvl({
        provider: 'bancor',
        chain: 'ethereum',
        query: { block: '16184095', date: '0' },
      });
      expect(balances).toEqual({
        '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2': '8433346336241197816824',
        '0x1f573d6fb3f13d689ff844b4ce37794d79a7ff1c':
          '51670980029460826573537065',
        '0xd46ba6d942050d489dbd938a2c909a5d5039a161': '20029982039',
        '0x86a49f08ab6531a3e0e814c75f36de661b986ca1': '7108983907903089060',
        '0xf8e386eda857484f5a12e4b5daa9984e06e73705':
          '1387999582122630544962480',
        '0xf629cbd94d3791c9250152bd8dfbdf380e2a3b9c':
          '2652915010650146468711441',
        '0xd26114cd6ee289accf82350c8d8487fedb8a0c07': '49658646407562362545807',
        '0x1b22c32cd936cb97c28c5690a0695a82abf688e6':
          '293454051398624176705918',
        '0x37e8789bb9996cac9156cd5f5fd32599e6b91289':
          '259975400798688849361139',
        '0x1063ce524265d5a3a624f4914acd573dd89ce988':
          '1855992135627325367622159',
        '0x2daee1aa61d60a252dc80564499a69802853583a': '86108507013',
        '0x0d8775f648430679a709e98d2b0cb6250d2887ef':
          '1043067607676734525473938',
        '0xb8c77482e45f1f44de1745f52c74426c631bdd52': '720836110930468419',
        '0x903bef1736cddf2a537176cf3c64579c3867a881': '697693845410102',
        '0x419c4db4b9e25d6db2ad9691ccb832c8d9fda05e': '4646157657540638216677',
        '0x1234567461d3f8db7496581774bd869c83d51c93': '27699037725404674411803',
        '0x9af4f26941677c706cfecf6d3379ff01bb85d5ab': '3805120999',
        '0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': '90557910727841242954',
        '0x08711d3b02c8758f2fb3ab4e80228418a7f8e39c': '56',
        '0xbf2179859fc6d5bee9bf9158632dc51678a4100e': '3953528485373772803932',
        '0xc5bbae50781be1669306b9e001eff57a2957b09d': '129528998',
        '0x0f5d2fb29fb7d3cfee444a200298f468908cc942':
          '458932375765552384213876',
        '0x8f8221afbb33998d8584a2b05749ba73c37a938a':
          '5814414675961458639515497',
        '0x607f4c5bb672230e8672085532f7e901544a7375': '20386068759596',
        '0x68d57c9a1c35f63e2c83ee8e49a64e9d70528d25':
          '2231762394125246052279866',
        '0xd0a4b8946cb52f0661273bfbc6fd0e0c75fc6433': '3745514111554100527805',
        '0xe7775a6e9bcf904eb39da2b68c5efb4f9360e08c': '16721232991',
        '0x3a92bd396aef82af98ebc0aa9030d25a23b11c6b': '11419913695869886221549',
        '0xaaaf91d9b90df800df4f55c205fd6989c977e73a': '7564942458',
        '0xcb94be6f13a1182e4a4b6140cb7bf2025d28e41b': '5309532859',
        '0x667088b212ce3d06a1b553a7221e1fd19000d9af': '1018689971972304353088',
        '0xf6b55acbbc49f4524aa48d19281a9a77c54de10f':
          '997316672087257274198313',
        '0x9a794dc1939f1d78fa48613b89b8f9d0a20da00e':
          '4559772177083413971860290',
        '0x4ceda7906a5ed2179785cd3a40a69ee8bc99c466': '72772638',
        '0x737f98ac8ca59f2c68ad658e3c3d8c8963e40a4c': '29485752720895843275385',
        '0xe8a1df958be379045e2b46a31a98b93a2ecdfded': '949800232025454457185',
        '0x4aac461c86abfa71e9d00d9a2cde8d74e4e1aeea':
          '457264721055900990208887',
        '0xc72fe8e3dd5bef0f9f31f259399f301272ef2a2d': '7718098151420117298',
        '0xdd974d5c2e2928dea5f71b9825b8b646686bd200': '1725140559280827089186',
        '0x95ad61b0a150d79219dcf64e1e6cc01f0b64c4ce':
          '4046604126223076607340669',
        '0x814e0908b12a99fecf5bc101bb5d0b8b5cdf7d26':
          '1932700765115697187925296',
        '0x6710c63432a2de02954fc0f851db07146a6c0312':
          '44213169254809993470065352',
        '0xa15c7ebe1f07caf6bff097d8a589fb8ac49ae5b3': '36110190098307117273392',
        '0xd341d1680eeee3255b8c4c75bcce7eb57f144dae': '2507180819729713718926',
        '0xe3818504c1b32bf1557b16c238b2e01fd3149c17':
          '1390739909807824737243410',
        '0x595832f8fc6bf59c85c527fec3740a1b7a361269': '102222509135',
        '0xf970b8e36e23f7fc3fd752eea86f8be8d83375a6':
          '4950698664466579105008906',
        '0x3d1ba9be9f66b8ee101911bc36d3fb562eac2244':
          '6045028528121660425845014',
        '0x9a005c9a89bd72a4bd27721e7a09a3c11d2b03c4':
          '18917883095360349757825209',
        '0x6810e776880c02933d47db1b9fc05908e5386b96': '635229537244324523734',
        '0x818fc6c2ec5986bc6e2cbf00939d90556ab12ce5':
          '2324320682411652451973701',
        '0x9a0242b7a33dacbe40edb927834f96eb39f8fbcb':
          '443886165891831650539422',
        '0x763186eb8d4856d536ed4478302971214febc6a9': '5668837720555846054606',
        '0x6ba460ab75cd2c56343b3517ffeba60748654d26': '1187235989447440',
        '0x0b38210ea11411557c13457d4da7dc6ea731b88a': '67478436057823840281',
        '0xd1d99e7bc649d2b8e01eca22908dba5813ae6f10': '8163020330',
        '0xb056c38f6b7dc4064367403e26424cd2c60655e1':
          '747106733909293866627983',
        '0x48fb253446873234f2febbf9bdeaa72d9d387f94':
          '2515470947619052223574627',
        '0x9b70740e708a083c6ff38df52297020f5dfaa5ee': '2060402265962',
        '0xc20464e0c373486d2b3335576e83a218b1618a5e':
          '1627604100938338019131813',
        '0x009e864923b49263c7f10d19b7f8ab7a9a5aad33': '2419015474083068857885',
        '0xd559f20296ff4895da39b5bd9add54b442596a61':
          '2309226046597789392737849',
        '0xfb1e5f5e984c28ad7e228cdaa1f8a0919bb6a09b': '90495493931977689926976',
        '0x9af839687f6c94542ac5ece2e317daae355493a1': '33266058529555010952',
        '0x5b09a0371c1da44a8e24d36bf5deb1141a84d875':
          '2008128045754468904864712',
        '0x2ef27bf41236bd859a95209e17a43fbd26851f92': '1797699003280684',
        '0xcbee6459728019cb1f2bb971dde2ee3271bc7617':
          '69265281163839797799359628',
        '0x5d60d8d7ef6d37e16ebabc324de3be57f135e0bc':
          '29944358714858629122718024',
        '0x6758b7d441a9739b98552b373703d8d3d14f9e62': '136979048244157792614',
        '0xfc2c4d8f95002c14ed0a7aa65102cac9e5953b5e': '98566156468240865115023',
        '0x4d305c2334c02e44ac592bbea681ba4cc1576de3':
          '121218905623988918827640',
        '0xd7631787b4dcc87b1254cfd1e5ce48e96823dee8': '46371087449719',
        '0x6888a16ea9792c15a4dcf2f6c623d055c8ede792': '12838096945626395038',
        '0x744d70fdbe2ba4cf95131626614a1763df805b9e': '2784658501535842229158',
        '0xb0280743b44bf7db4b6be482b2ba7b75e5da096c':
          '925847342237103611885220',
        '0x910dfc18d6ea3d6a7124a6f8b5458f281060fa4c':
          '1771135693026255977314741',
        '0x28dee01d53fed0edf5f6e310bf8ef9311513ae40':
          '46435638287726036657366735',
        '0xedd7c94fd7b4971b916d15067bc454b9e1bad980':
          '193354122812672216797822',
        '0xbb1fa4fdeb3459733bf67ebc6f893003fa976a82':
          '2556323783957397215233050904',
        '0x84f7c44b6fed1080f647e354d552595be2cc602f': '64934216892701550390602',
        '0xef2463099360a085f1f10b076ed72ef625497a06': '29005669429305276981463',
        '0x39bb259f66e1c59d5abef88375979b4d20d98022': '1110936394551',
        '0xf04a8ac553fcedb5ba99a64799155826c136b0be': '68327896413870454195252',
        '0xf433089366899d83a9f26a773d59ec7ecf30355e': '4438135573224',
        '0xa704fce7b309ec09df16e2f5ab8caf6fe8a4baa9': '10002630221454025267',
        '0xe0b7927c4af23765cb51314a0e0521a9645f0e2a': '46389',
        '0xdb25f211ab05b1c97d595516f45794528a807ad8': '188',
        '0xefbd6d7def37ffae990503ecdb1291b2f7e38788':
          '3715730152874813823973265',
        '0x9c23d67aea7b95d80942e3836bcdf7e708a747c2':
          '8838701142027039733271864',
        '0xdf2c7238198ad8b389666574f2d8bc411a4b7428': '3154727837149638053541',
        '0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2': '444119434512900186965',
        '0xa485bd50228440797abb4d4595161d7546811160': '1',
        '0x9214ec02cb71cba0ada6896b8da260736a67ab10':
          '910133279206859982859041',
        '0x1dea979ae76f26071870f824088da78979eb91c8':
          '159146277542273946593769243',
        '0xbdeb4b83251fb146687fa19d1c660f99411eefe3':
          '19304333519720063822555400',
        '0x50d1c9771902476076ecfc8b2a83ad6b9355a4c9': '470138065486121180754',
        '0x960b236a07cf122663c4303350609a66a7b288c0': '30461553228449390951297',
        '0x5c872500c00565505f3624ab435c222e558e9ff8':
          '397806953998958194848792485',
        '0x47ec6af8e27c98e41d1df7fb8219408541463022':
          '13282341038968019574825682',
        '0x9a07fd8a116b7e3be9e6185861496af7a2041460':
          '2145836949837558307536735',
        '0xf1290473e210b2108a85237fbcd7b6eb42cc654f': '4785960603725889269269',
        '0x7b0c06043468469967dba22d1af33d77d44056c8': '31252',
        '0x255aa6df07540cb5d3d297f0d0d4d84cb52bc8e6': '1093892883010196321712',
        '0x89303500a7abfb178b274fd89f2469c264951e1f': '2633869540381',
        '0x83984d6142934bb535793a82adb0a46ef0f66b6d': '83887844',
        '0x7c5a0ce9267ed19b22f8cae653f198e3e8daf098':
          '178554522142713309310961',
        '0x222efe83d8cc48e422419d65cf82d410a276499b': '6523856692',
        '0x2260fac5e5542a773aa44fbcfedf7c193bc2c599': '28346528455',
        '0x4a57e687b9126435a9b19e4a802113e266adebde': '276083859311768581311',
        '0xf01d7939441a3b1b108c70a28dcd99c6a98ad4b4':
          '427821923037838081023102',
        '0x3166c570935a7d8554c8f4ea792ff965d2efe1f2': '74127668140337952',
        '0x6c37bf4f042712c978a73e3fd56d1f5738dd7c43': '37729106512371456351819',
        '0x309627af60f0926daa6041b8279484312f2bf060': '11974132494257710882963',
        '0xfa5047c9c78b8877af97bdcb85db743fd7313d4a': '18206123630451604952201',
        '0x02f2d4a04e6e01ace88bd2cd632875543b2ef577':
          '4560078315532980875538444',
        '0x0cb20b77adbe5cd58fcecc4f4069d04b327862e5': '100250000000',
        '0x8ce9137d39326ad0cd6491fb5cc0cba0e089b6a9': '4625622888540499143889',
        '0xf5d669627376ebd411e34b98f19c868c8aba5ada': '2690920539688571168',
        '0xa1faa113cbe53436df28ff0aee54275c13b40975':
          '2628672196914734570279767',
        '0xb0dba4bd6b6c4fc9a1263d8c19a57a6bdd740a52': '604030200747620629872',
        '0x7e7e112a68d8d2e221e11047a72ffc1065c38e1a': '26305712022547221769',
        '0x26e75307fc0c021472feb8f727839531f112f317': '342871482386835981982',
        '0xb9ef770b6a5e12e45983c5d80545258aa38f3b78': '4793259210702049',
        '0x19d97d8fa813ee2f51ad4b4e04ea08baf4dffc28': '2700213770079346736643',
        '0x5aaefe84e0fb3dd1f0fcff6fa7468124986b91bd': '382395122129012223414',
        '0xfca59cd816ab1ead66534d82bc21e7515ce441cf': '9119112824622806845162',
        '0x0391d2021f89dc339f60fff84546ea23e337750f': '83727127321702718989',
        '0x27702a26126e0b3702af63ee09ac4d1a084ef628': '61241705060648687701416',
        '0x8a9c67fee641579deba04928c4bc45f66e26343a':
          '1809299010679362287626257',
        '0x0bc529c00c6401aef6d220be8c6ea1667f6ad93e': '74445553570532012843',
        '0xc011a73ee8576fb46f5e1c5751ca3b9fe0af2a6f':
          '388971618988812334689865',
        '0x86772b1409b61c639eaac9ba0acfbb6e238e5f83':
          '1263813508880294544084037',
        '0xa3bed4e1c75d00fa6f4e5e6922db7261b5e9acd2':
          '253343634394266024181180',
        '0xa207ef81c35848a60a732005a42fae0ba89a9be2': '3970',
        '0x476c5e26a75bd202a9683ffd34359c0cc15be0ff': '2412100663',
        '0xea6d4d7b36c00b3611de0b0e1982b12e9e736c66': '26067332779696732190',
        '0x36f3fd68e7325a35eb768f1aedaae9ea0689d723': '7601603504060103610944',
        '0x6b4389afb3e243a65668b7311fa9ef092a8a3b64': '22552134128904981574',
        '0xc944e90c64b2c07662a292be6244bdf05cda44a7':
          '2606189357058658611764107',
        '0xa3ac41fde5f3a569fa79e81ffe6734ee8097ce9d': '1473209497',
        '0x8762db106b2c2a0bccb3a80d1ed41273552616e8':
          '14173303233261799821973005',
        '0xa2085073878152ac3090ea13d1e41bd69e60dc99': '31139860983981484574',
        '0x1337def18c680af1f9f45cbcab6309562975b1dd': '705614527491233720',
        '0xec67005c4e498ec7f55e092bd1d35cbc47c91892': '345525526698426436942',
        '0x1776e1f26f98b1a5df9cd347953a26dd3cb46671': '3773849644545554597170',
        '0x9537d07406ca6c35b846ffdb99ae0e85040e8f91': '1777605290',
        '0x627974847450c45b60b3fe3598f4e6e4cf945b9a':
          '370821593089942245832726',
        '0xcad2d4c4469ff09ab24d02a63bcedfcd44be0645':
          '2089784942273404942346420',
        '0x04fa0d235c4abf4bcf4787af4cf447de572ef828': '6983221047153553086993',
        '0xa8c8cfb141a3bb59fea1e2ea6b79b5ecbcd7b6ca':
          '2407679899373254237788929',
        '0x0ed55f31ee2f9875a738c6496842b0e6519d7833': '1405309',
        '0xb414f8ec2d14c64f37b1559cbe43746284514596': '18186531974791916640',
        '0xff20817765cb7f73d4bde2e66e067e58d11095c2':
          '9427575119394947636143978',
        '0x5228a22e72ccc52d415ecfd199f99d0665e7733b': '8287064058342584',
        '0x7d1afa7b718fb893db30a3abc0cfc608aacfebb0':
          '367646771072946079061970',
        '0x0efc2390c79c47452898a234a27f2b9c39a7a725': '1000000000000000000',
        '0x8400d94a5cb0fa0d041a3788e395285d61c9ee5e': '9089117411',
        '0x4cc19356f2d37338b9802aa8e8fc58b0373296e7': '274865838178023960953',
        '0xcfabaff3bb057ba878f43ce027c9266d2f900561': '10989000000000000000',
        '0x3c45b24359fb0e107a4eaa56bd0f2ce66c99a0e5':
          '19098651196015853206634454',
        '0x6b175474e89094c44da98b954eedeac495271d0f':
          '4611545817664501305427336',
        '0xf8a2ed21fea517665b35ac824387bf9b41c71919': '1459600000000000000',
        '0x0ae055097c6d159879521c384f1d2123d1f195e6': '4581994639790683227616',
        '0xcf33eb02227255c45f595727dbb24ce16afc36a2': '75329945233884854876',
        '0x825a64810e3ee35bd64c940140ea91a609608abe': '240193474037332774464',
        '0xbbbbca6a901c926f240b89eacb641d8aec7aeafd': '47203416005067987567571',
        '0x514910771af9ca656af840dff83e8264ecf986ca':
          '1462064871180073659389720',
        '0x8888801af4d980682e47f1a9036e589479e835c5': '97006798443370248360696',
        '0x4a220e6096b25eadb88358cb44068a3248254675': '950056059472214563952',
        '0x408e41876cccdc0f92210600ef50372656052a38':
          '6513456550448913164936992',
        '0x967da4048cd07ab37855c090aaf366e4ce1b9f48':
          '3870038540663099238064356',
        '0x0d438f3b5175bebc262bf23753c1e53d03432bde': '12657370942043818586663',
        '0x9b53e429b0badd98ef7f01f03702986c516a5715': '20897858066620883740961',
        '0x6b3595068778dd592e39a122f4f5a5cf09c90fe2': '152494446069093599525',
        '0x0ba45a8b5d5575935b8158a88c631e9f9c95a2e5': '481851123387320066275',
        '0x67abf1c62d8acd07ada35908d38cd67be7dfeb36': '493548904020171',
        '0xe41d2489571d322189246dafa5ebde1f4699f498': '13551550169091671201079',
        '0x7db5454f3500f28171d1f9c7a38527c9cf94e6b2': '119913',
        '0x725c263e32c72ddc3a19bea12c5a0479a81ee688':
          '324605204474023983628358',
        '0x0ecdd783dc7bf820614044b51862ed29714d2ba5': '1519273106778224131979',
        '0xb4efd85c19999d84251304bda99e90b92300bd93': '9405076223723107841572',
        '0x7fc66500c84a76ad7e9c93437bfc5ac33e2ddae9': '1958141559144741364817',
        '0xf5238462e7235c7b62811567e63dd17d12c2eaa0': '20776011',
        '0x7de91b204c1c737bcee6f000aaa6569cf7061cb7': '116131283326',
        '0xeb4c2781e4eba804ce9a9803c67d0893436bb27d': '2048521021',
        '0x1337def16f9b486faed0293eb623dc8395dfe46a':
          '3137886595376186974117801',
        '0x4485561db76614ff727f8e0a3ea95690b8b16022':
          '1199099700866793940804098',
        '0x1368452bfb5cd127971c8de22c58fbe89d35a6bf': '17142278749554337785424',
        '0xba11d00c5f74255f56a5e366f4f77f5a186d7f55': '35791472656386753522',
        '0xfa60aa4cd80b1e7aed9abdc5c63b5e21aee603ca': '4735572838',
        '0x178c820f862b14f316509ec36b13123da19a6054': '3543996208271426655402',
        '0x1f9840a85d5af5bf1d1762f925bdaddc4201f984': '19389355346186473769546',
        '0xf2ba4afcbe22f0e626d67d8f31e96428706282e9': '421813887821073551225',
        '0xfc4a2cd574bdcc385173f03a6a52cc3b853bb9d4': '43271448378281579590617',
        '0xaaaebe6fe48e54f431b0c390cfaf0b017d09d42d': '1876003723',
        '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48': '1416701110686',
        '0xe58e751aba3b9406367b5f3cbc39c2fa9b519789': '47259441467969847235522',
        '0xdac17f958d2ee523a2206206994597c13d831ec7': '2057169111355',
        '0x1c5db575e2ff833e46a2e9864c22f4b22e0b37c2': '3914450995',
        '0xa1d65e8fb6e87b60feccbc582f7f97804b725521': '3655441657852750004',
        '0xd533a949740bb3306d119cc777fa900ba034cd52': '199025870720929333151',
        '0xa0b73e1ff0b80914ab6fe0444e65848c4c34450b': '28667675572',
        '0xc00e94cb662c3520282e6f5717214004a7f26888': '3682197286422816334033',
        '0x2cc1be643e0882fb096f7f96d2b6ca079ad5270c': '6431198985239',
        '0x99295f1141d58a99e939f7be6bbe734916a875b8':
          '148335943032671077108228',
        '0xf5e4313be1fe70f0d5b02752cb5d7620672996d8': '3078841046438916908535',
        '0x3c9d6c1c73b31c837832c72e04d3152f051fc1a9': '73030943689965012',
        '0x1559fa1b8f28238fd5d76d9f434ad86fd20d1559':
          '5085428808085246636571067',
        '0x584bc13c7d411c00c01a62e8019472de68768430':
          '1538105025017688221047588',
        '0x701c244b988a513c945973defa05de933b23fe1d': '525708818577499965459',
        '0x4691937a7508860f876c9c0a2a617e7d9e945d4b':
          '6270844137119004378950034',
        '0x0f71b8de197a1c84d31de0f1fa7926c365f052b3':
          '2119959646933791365685724',
        '0xbb0e17ef65f82ab018d8edd776e8dd940327b28b': '209795862573041489144',
        '0xde30da39c46104798bb5aa3fe8b9e0e1f348163f': '1216317922167836171325',
        '0x6c28aef8977c9b773996d0e8376d2ee379446f2f': '13484113045530359980',
        '0x888888888889c00c67689029d7856aac1065ec11':
          '385268660234418408183207',
        '0x72e9d9038ce484ee986fea183f8d8df93f9ada13': '1160741841826061833104',
        '0x2ba592f78db6436527729929aaf6c908497cb200': '12559296563541414266',
        '0x111111111117dc0aa78b770fa6a738034120c302': '5053668822135619880967',
        '0x6c6ee5e31d828de241282b9606c8e98ea48526e2':
          '239747875838518804827217484',
        '0x2a039b1d9bbdccbb91be28691b730ca893e5e743':
          '829976937800296777474931',
        '0x3506424f91fd33084466f402d5d97f05f8e3b4af':
          '109790932068884863537047',
        '0xa0246c9032bc3a600820415ae600c6388619a14d': '9788590007759344613283',
        '0x6dea81c8171d0ba574754ef6f8b412f2ed88c54d': '9538341335683089177843',
        '0x3155ba85d5f96b2d030a4966af206230e46849cb': '2938865077470939695463',
        '0xb62132e35a6c13ee1ee0f84dc5d40bad8d815206': '2652817135040674041441',
        '0xbc396689893d065f41bc2c6ecbee5e0085233447': '954577932533107181663',
        '0x8290333cef9e6d528dd5618fb97a76f268f3edd4':
          '594367834159432019232691',
        '0x939b462ee3311f8926c047d2b576c389092b1649': '1829885320126',
        '0x7f39c581f595b53c5cb19bd0b3f8da6c935e2ca0': '18188444295972584469',
        '0x875773784af8135ea0ef43b5a374aad105c5d39e': '39137055371249569129968',
        '0x4c19596f5aaff459fa38b0f7ed92f11ae6543784': '565784041270',
        '0xa150db9b1fa65b44799d4dd949d922c0a33ee606': '48466605',
        '0xa02120696c7b8fe16c09c749e4598819b2b0e915':
          '1300859136047965670301479',
        '0x163c747dbacbec87dbba7c7a8c83dba50d3ef011': '19067538392765193253',
        '0xc7283b66eb1eb5fb86327f08e1b5816b0720212b': '3095609894865443443525',
        '0x8798249c2e607446efb7ad49ec89dd1865ff4272': '5461625138314269846807',
        '0xdbdb4d16eda451d0503b854cf79d55697f90c8df': '129333091027767670989',
        '0xbc19712feb3a26080ebf6f2f7849b417fdd792ca':
          '45144237371748735986734421',
        '0xa0cf46eb152656c7090e769916eb44a138aaa406': '5626784060205783915154',
        '0x03fdcadc09559262f40f5ea61c720278264eb1da': '1000000000000000000',
        '0xaa7a9ca87d3694b5755f213b5d04094b8d0f0a6f':
          '299453425105335457583571',
        '0xf406f7a9046793267bc276908778b29563323996': '4920218538066358619963',
        '0xd13c7342e1ef687c5ad21b27c2b65d772cab5c8c': '760627610',
        '0x491e136ff7ff03e6ab097e54734697bb5802fc1c':
          '111922678457679241039375',
        '0x275f5ad03be0fa221b4c6649b8aee09a42d9412a': '194706702129876592282',
        '0xd5cd84d6f044abe314ee7e414d37cae8773ef9d3': '49352087313104798708820',
        '0x656c00e1bcd96f256f224ad9112ff426ef053733': '3366167406080147243',
        '0x8f693ca8d21b157107184d29d398a8d082b38b76':
          '698826105676215390705632',
        '0xb753428af26e81097e7fd17f40c88aaa3e04902c': '112016501736558453228',
        '0xde4ee8057785a7e8e800db58f9784845a5c2cbd6': '37527010509481127259246',
        '0x5218e472cfcfe0b64a064f055b43b4cdc9efd3a6':
          '26300623439338845248799845',
        '0x69af81e73a73b40adf4f3d4223cd9b1ece623074': '473939282169622160540',
        '0x6f40d4a6237c257fff2db00fa0510deeecd303eb': '972881611312274013861',
        '0xaa4e3edb11afa93c41db59842b29de64b72e355b':
          '893779772628008534255133',
        '0xe5caef4af8780e59df925470b050fb23c43ca68c': '521760034491',
        '0xc770eefad204b5180df6a14ee197d99d808ee52d': '15555632894755636659801',
        '0x8c543aed163909142695f2d2acd0d55791a9edb9':
          '282249872272457557383045',
        '0x4104b135dbc9609fc1a9490e61369036497660c8': '95096279359670891370719',
        '0x090185f2135308bad17527004364ebcc2d37e5f6': '98189024242685404299566',
        '0xe76c6c83af64e4c60245d8c7de953df673a7a33d': '213088960687742194245',
        '0xc719d010b63e5bbf2c0551872cd5316ed26acd83':
          '900978372827082998723516',
        '0x0954906da0bf32d5479e25f46056d22f08464cab': '9892252322152212499702',
        '0xc12d099be31567add4e4e4d0d45691c3f58f5663':
          '9974569634797681429846344',
        '0x92d6c1e31e14520e676a687f0a93788b716beff5': '352430169097366612513',
        '0xcafe001067cdef266afb7eb5a286dcfd277f3de5':
          '2831335003255663215797395',
        '0x940a2db1b7008b6c776d4faaca729d6d4a4aa551': '83046613051704663508002',
        '0x3432b6a60d23ca0dfca7761b7ab56459d9c964d0': '1212000661445382710',
        '0x3ef389f264e07fff3106a3926f2a166d1393086f': '575852651271111',
        '0x3a880652f47bfaa771908c07dd8673a787daed3a': '9645141736353017328202',
        '0xfe459828c90c0ba4bc8b42f5c5d44f316700b430':
          '2608412361038121765081989',
        '0x0f51bb10119727a7e5ea3538074fb341f56b09ad': '75615735569217557745197',
        '0x81f8f0bb1cb2a06649e51913a151f0e7ef6fa321':
          '303889374953275279831642',
        '0xd33526068d116ce69f19a9ee46f0bd304f21a51f': '3929524868810778264923',
        '0x491604c0fdf08347dd1fa4ee062a822a5dd06b5d': '3675016431986314960545',
        '0x232fb065d9d24c34708eedbf03724f2e95abe768': '2438129404233636490633',
        '0xe1fc4455f62a6e89476f1072530c20cf1a0622da':
          '906321164811400106393682',
        '0x69a95185ee2a045cdc4bcd1b1df10710395e4e23': '697357612065730820528',
        '0xae78736cd615f374d3085123a210448e74fc6393': '958500570242904383',
        '0xa36fdbbae3c9d55a1d67ee5821d53b50b63a1ab9':
          '673444417421761533123243',
        '0x4c2e59d098df7b6cbae0848d66de2f8a4889b9c3':
          '20233792917349868684762886',
        '0x2a2550e0a75acec6d811ae3930732f7f3ad67588': '70099366562520261214309',
        '0x3ebb4a4e91ad83be51f8d596533818b246f4bee1':
          '391238450135576097269474',
        '0xbc138bd20c98186cc0342c8e380953af0cb48ba8': '3517523812008660687154',
        '0x01ba67aac7f75f647d94220cc98fb30fcc5105bf': '14047224564569570480925',
        '0x444d6088b0f625f8c20192623b3c43001135e0fa':
          '22073408466603507621500961',
        '0x505a84a03e382331a1be487b632cf357748b65d6':
          '24338470181065091018007099462268',
        '0x8947da500eb47f82df21143d0c01a29862a8c3c5': '1086234027855637526295',
        '0xb2cabf797bc907b049e4ccb5b84d13be3a8cfc21':
          '7370719309618175549367879',
        '0xba100000625a3754423978a60c9317c58a424e3d': '17311079745394742',
        '0xc18360217d8f7ab5e7c516566761ea12ce7f9d72': '3665671212212286826786',
      });
    });
    it('paradex block: 18471533', async () => {
      const { balances } = await factoryService.getTvl({
        provider: 'paradex',
        chain: 'ethereum',
        query: { block: '18471533', date: '0' },
      });
      expect(balances).toEqual({
        '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48': '2104887566406',
    });
    });
    it('yearn block: 16145650', async () => {
      const { balances } = await factoryService.getTvl({
        provider: 'yearn',
        chain: 'ethereum',
        query: { block: '16145650', date: '0' },
      });
      const responseKeys = Object.keys(balances);
      expect(responseKeys).toContain(
        '0x0000000000085d4780b73119b644ae5ecd22b376',
      );
      expect(responseKeys.length).toBeGreaterThan(0);
    });
    it('wing block: 16145650', async () => {
      const { balances } = await factoryService.getTvl({
        provider: 'wing',
        chain: 'ethereum',
        query: { block: '16145650', date: '0' },
      });
      const responseKeys = Object.keys(balances);
      expect(responseKeys).toContain(
        '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2',
      );
      expect(responseKeys.length).toBeGreaterThan(0);
    });
  });

  describe('fantom', () => {
    it('beefyfinance block: 52154943', async () => {
      const { balances } = await factoryService.getTvl({
        provider: 'beefyfinance',
        chain: 'fantom',
        query: { block: '52154943', date: '0' },
      });
      expect(balances).toEqual({
        '0xd6070ae98b8069de6b494332d1a1a81b6179d960':
          '8639794427812386765049.90589242363206881073',
        '0x7381ed41f6de418dde5e84b55590422a57917886':
          '11361043000738151989829108.03339451295996392947',
        '0x04068da6c83afcfa0e13ba15a6696662335d5b75':
          '2593247323618.29182630944992389628',
        '0xde1e704dae0b4051e80dabb26ab6ad6c12262da0':
          '181890942088272151630111.90350117426631141982',
        '0x21be370d5312f44cb42ce377bc9b8a0cef1a4c83':
          '14625514289457835808319772.29237143495176390304',
        '0xde5ed76e7c05ec5e4572cfc88d1acea165109e44':
          '230927714044007009434.31831303587479806244',
        '0xfb98b335551a418cd0737375a2ea0ded62ea213b':
          '421124212710718350527785.07691830159977467828',
        '0x049d68029688eabf473097a2fc38ef61633a3c7a':
          '1426883753216.57730676981686065792',
        '0x4e415957aa4fd703ad701e43ee5335d1d7891d83':
          '177324329455230213824580',
        '0xae45a827625116d6c0c40b5d7359ecf68f8e9afd':
          '85098872135389452414.80623989089633175486',
        '0xd7028092c830b5c8fce061af2e593413ebbc1fc1':
          '246652443737803233949184.39883482832201576646',
        '0x74b23882a30290451a17c44f4f05243b6b58c76d':
          '1292909705157658476054.60646095246943433162',
        '0xc931f61b1534eb21d8c11b24f3f5ab2471d4ab50':
          '32313364709866856415467.92709189361424744976',
        '0x70f9fd19f857411b089977e7916c05a0fc477ac9':
          '244175846979082531512.62495648529113182726',
        '0x2ad402655243203fcfa7dcb62f8a08cc2ba88ae0':
          '111197048608186574647666.11121235300066619368',
        '0x82f0b8b456c1a451378467398982d4834b6829c1':
          '422456486505280232827235.57460827541484959449',
        '0xb67fa6defce4042070eb1ae1511dcd6dcc6a532e':
          '1549098730619863468264.41922065348555648852',
        '0x321162cd933e2be498cd2267a90534a804051b11':
          '11242731831.94631669870835948176',
        '0xdc301622e621166bd8e82f2ca0a26c13ad0be355':
          '996122120623637443148121.06224849228415845625',
        '0x8d11ec38a3eb5e956b052f67da8bdc9bef8abf3e':
          '372477926347240463611359.88655090711046460475',
        '0x5cc61a78f164885776aa610fb0fe1257df78e59b':
          '1313123717192177696782947.57925942146670999005',
        '0x44e314190d9e4ce6d4c0903459204f8e21ff940a':
          '29863782194410265310258294.47686480434186449368',
        '0x888ef71766ca594ded1f0fa3ae64ed2941740a20':
          '640713136921913657949.26504196578838703855',
        '0xf7554d17d1c3f09899dcc8b404becae6dfa584fa':
          '685775953296311032749.02248708688028717276',
        '0x501ace9c35e60f03a2af4d484f49f9b1efde9f40': '39160752478607834524602',
        '0x65411827ef78f08f6559acf91de3a4f5a26d785c': '3430917994655474086601',
        '0x2bea17ede5d83ad19ae112b8592aadaa2b015de7': '66964955580502143606291',
        '0x65bf2d53bd1d7050d22873f6b9bb59edb0ca0b20': '15592706776932952625137',
        '0x07e6332dd090d287d3489245038daf987955dcfb':
          '764595079339885538576286.5521216906102894423',
        '0xe578c856933d8e1082740bf7661e379aa2a30b26':
          '747008378475.25006395555711470813',
        '0x940f41f0ec9ba1a34cf001cc03347ac092f5f6b5':
          '876353144879.9797779675450353995',
        '0xf3a602d30dcb723a74a0198313a7551feaca7dac': '6046143526179501489214',
        '0x3129662808bec728a27ab6a6b9afd3cbaca8a43c':
          '229051016986342224281484.29236262006208300753',
        '0x2c580c6f08044d6dfaca8976a66c8fadddbd9901': '62147305716974356644812',
        '0xfc092f85125907ffcb0f9012e6e40b3f37c4de60': '9473257409600062951492',
        '0x2975035545008935152fdf48ca13406cc5d4e475': '2860633369052623675247',
        '0x72c0eb973dc95e2d185563f58fc26626cc2e8034': '229925938331374670129',
        '0xa07de66aef84e2c01d88a48d57d1463377ee602b': '216677814256864807993',
        '0x22b30b00e6796daf710fbe5cafbfc9cdd1377f2a': '31921023417284381696',
        '0xd163415bd34ef06f57c58d2aed5a5478afb464cc': '6328984175261447782458',
        '0xcde5a11a4acb4ee4c805352cec57e236bdbc3837':
          '1443184194468215965668736',
        '0xd47d2791d3b46f9452709fa41855a045304d6f9d': '527780595147314410161',
        '0xcdf68a4d525ba2e90fe959c74330430a5a6b8226':
          '168850268257173544465305',
        '0xddc0385169797937066bbd8ef409b5b3c0dfeb52':
          '276627069587418711.88506270209638339632',
        '0xd8321aa83fb0a4ecd6348d4577431310a6e0814d':
          '3306723792269270837627161.67871891656257191145',
        '0x468003b688943977e6130f4f68f23aad939a1040':
          '62724117448385873160456624.05957722576296217542',
        '0x1e4f97b9f9f913c46f1632781732927b9019c68b':
          '255480425395397088598589.08384821845103600217',
        '0x6c021ae822bea943b2e66552bde1d2696a53fbb7':
          '6154314594997759837245372.0414941365018948469',
        '0xc60d7067dfbc6f2caf30523a064f416a5af52963':
          '438635676483024821906894.28718603414805457497',
        '0xb3654dc3d10ea7645f8319668e8f54d2574fbdc8':
          '38950175319629231058795.76380142366811468135',
        '0x841fad6eae12c286d1fd18d1d525dffa75c7effe':
          '310212612065582497944565.81157882704409016296',
        '0xe0654c8e6fd4d733349ac7e09f6f23da256bf475':
          '47844448469584041357210.81135725270508230304',
        '0x29b0da86e484e1c0029b56e817912d778ac0ec69':
          '3241503930920777927.57039305592585826662',
        '0xdbf31df14b66535af65aac99c32e9ea844e14501':
          '543355342.20009748543133261952',
        '0xf16e81dce15b08f326220742020379b855b87df9':
          '24255042504309199690998.2652387445839145585',
        '0xae75a438b2e0cb8bb01ec1e1e376de11d44477cc':
          '6089686721409480187939.29474398414572871883',
        '0xddcb3ffd12750b45d32e084887fdf1aabab34239':
          '350141178023699821722.91582552385409737484',
        '0xd67de0e0a0fd7b15dc8348bb9be742f3c5850454':
          '240407991064869150744.49100245610412348684',
        '0xb01e8419d842beebf1b70a7b5f7142abbaf7159d':
          '20035078506122590.48383703591206319535',
        '0x9f47f313acfd4bdc52f4373b493eae7d5ac5b765':
          '21345366378049486614136.70974545531105429941',
        '0x5e65474c8400d0bb76edbbe066b2d2e7b0b6e7fb': '335908219320870854472',
        '0x9879abdea01a879644185341f7af7d8343556b7a':
          '1079720547544546299810480.31817694375977545988',
        '0x41870439b607a29293d48f7c9da10e6714217624': '9490341269123318315309',
        '0x9d8f97a3c2f9f397b6d46cbe2d39cc1d8cf19010':
          '21223661058487034487807.7738786780530687741',
        '0x94ccf60f700146bea8ef7832820800e2dfa92eda':
          '122869963772855172596.06678170908224899704',
        '0x3dc57b391262e3aae37a08d91241f9ba9d58b570':
          '13556078293890715207241.2591576703490071756',
        '0x7c10108d4b7f4bd659ee57a53b30df928244b354':
          '1643973718339255147884231.36784484083912803431',
        '0x3a3841f5fa9f2c283ea567d5aeea3af022dd2262':
          '5880959366894127311.68430596921148854614',
        '0xa0828ee559110b041dedbf10ae0cf42274251de1': '2237597',
        '0x05848b832e872d9edd84ac5718d58f21fd9c9649':
          '1657967949003280062.57644822443071692416',
        '0x27e611fd27b276acbd5ffd632e5eaebec9761e40':
          '3745148049631489730756767.93491842503203755745',
        '0xd0660cd418a64a1d44e9214ad8e459324d8157f1':
          '12662444944958487.929433945426891654',
        '0x511d35c52a3c244e7b8bd92c0c297755fbd89212':
          '5396915062519743409332.52781409107262017732',
        '0x6626c47c00f1d87902fc13eecfac3ed06d5e8d8a':
          '109500127875341206278301.9138761498141684747',
        '0x03c6b3f09d2504606936b1a4decefad204687890': '1766914171940780677',
        '0x09e145a1d53c0045f41aeef25d8ff982ae74dd56':
          '603950.07759973869140516707',
        '0x56ee926bd8c72b2d5fa1af4d9e4cbb515a1e3adc':
          '54003724641652400641.92298883624346872936',
        '0x40df1ae6074c35047bff66675488aa2f9f6384f3':
          '64539258367627170942116.21247783797455272384',
        '0xecaa1cbd28459d34b766f9195413cb20122fb942':
          '213156065920100937725122',
        '0xd57cda2caebb9b64bb88905c4de0f0da217a77d7': '12524971722810959846964',
        '0xc042ef6ca08576bdfb57d3055a7654344fd153e4': '90314248030626420996',
        '0xd41bf724b6e31311db582c5388af6b316e812fe4': '991094936433929642',
        '0x85dec8c4b2680793661bca91a8f129607571863d':
          '425143928392474899286280.35232774644153518688',
        '0xf24bcf4d1e507740041c9cfd2dddb29585adce1e':
          '376473398094676767227005.3320325126546507744',
        '0xbb29d2a58d880af8aa5859e30470134deaf84f2b':
          '151871367327785614189066.35755768034934495145',
        '0xd97f9674e2597e7a252de4875985f4385b9608fb':
          '1668718862794166318652.1854340508968105998',
        '0x91fa20244fb509e8289ca630e5db3e9166233fdc':
          '290816172462209796.2225268658527547845',
        '0x37c045be4641328dfeb625f1dde610d061613497':
          '20799462614552601.81815312714760146032',
        '0x112df7e3b4b7ab424f07319d4e92f41e6608c48b':
          '2367947756907221934525292.5173243383985658003',
        '0x8a41f13a4fae75ca88b1ee726ee9d52b148b0498':
          '50392001529519028950939.41131560220192776921',
        '0xe3d17c7e840ec140a7a51aca351a482231760824': '26718866276476132304',
        '0xa48d959ae2e88f1daa7d5f611e01908106de7598': '48477559064834687859',
        '0xc165d941481e68696f43ee6e99bfb2b23e0e3114':
          '618473074726834791323283.32967162901377113733',
        '0x8f9bccb6dd999148da1808ac290f2274b13d7994':
          '28512670310416213143738.46162755654447524193',
        '0xde12c7959e1a72bbe8a5f7a1dc8f8eef9ab011b3':
          '20901101114547516460436.38399098399386698967',
        '0x9fb9a33956351cf4fa040f65a13b835a3c8764e3':
          '6684246698630361876390.35389562251877281578',
        '0x53d831e1db0947c74e8a52618f662209ec5de0ce':
          '155730946236134293863707.81584155892212728774',
        '0x3d8f1accee8e263f837138829b6c4517473d0688':
          '209043241717333627449629.19575858898484890145',
        '0x181f3f22c9a751e2ce673498a03e1fdfc0ebbfb6':
          '231713874290157516088452.39375694669330212109',
        '0xa92d41ab8efee617d80a829cd9f5683c5f793ada':
          '11247634379159603122275731.9267828921168376537',
        '0x65def5029a0e7591e46b38742bfedd1fb7b24436':
          '140623662827756411045.86178563074779552535',
        '0xe992beab6659bff447893641a378fbbf031c5bd6':
          '32554463255954961220047745.51831808425880337574',
        '0x8d7d3409881b51466b483b11ea1b8a03cded89ae':
          '506098122816066361500947.61763423304608742682',
        '0x49c290ff692149a4e16611c694fded42c954ab7a':
          '2222396978175286076439.51589554642954038981',
        '0x92df3eabf7c1c2a6b3d5793f6d53778ea78c48b2':
          '4226371631410.49482708664698249206',
        '0x10010078a54396f62c96df8532dc2b4847d47ed3':
          '18126862126549127418094.96159741677848157376',
        '0x846e4d51d7e2043c1a87e0ab7490b93fb940357b':
          '201021566890.64200156180954558558',
        '0xa1c5698a042638b6220e336ed9cfafb499560c20': '149373747032152186432',
        '0x627524d78b4fc840c887ffec90563c7a42b671fd':
          '9074137743872911953.13161891577047747824',
        '0x248cb87dda803028dfead98101c9465a2fbda0d4':
          '7410481809899732549889400.1808164068476975462',
        '0xfbc3c04845162f067a0b6f8934383e63899c3524':
          '288018634055601170596331.74531032635240216536',
        '0xbb4607bede4610e80d35c15692efcb7807a2d0a6': '3081676687163507787',
        '0x2d72a97a31dc920db03330780d30074626e39c8a':
          '2741968565539756092003.43405211918682298809',
        '0xbbc4a8d076f4b1888fec42581b6fc58d242cf2d5':
          '15199869169630170694765.39972292548213088058',
        '0x4cdf39285d7ca8eb3f090fda0c069ba5f4145b37':
          '202538785777662750191.57898530090740079453',
        '0x12edea9cd262006cc3c4e77c90d2cd2dd4b1eb97': '711545483805',
        '0x3bd4c3d1f6f40d77b2e9d0007d6f76e4f183a46d':
          '350589489770251568619238',
        '0x7a6e4e3cc2ac9924605dca4ba31d1831c84b44ae':
          '781806748086794593813827.75697695789700574628',
        '0xc54a1684fd1bef1f077a336e6be4bd9a3096a6ca':
          '1023377982590647963315.67904087081814347416',
        '0x4a89338a2079a01edbf5027330eac10b615024e5':
          '480659546665214463654.0596743014718770093',
        '0xd02a30d33153877bc20e5721ee53dedee0422b2f':
          '2642873015828873412983.4821097768309322359',
        '0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee':
          '2413569877089707229582.91840450895766953798',
        '0xc0d9784fdba39746919bbf236eb73bc015fd351d':
          '286346859108885543057.03725154961381230762',
        '0x713ee620a7702b79ea5413096a90702244fe4532': '961953684853628040512',
        '0xfa901cadcaf38cd533e8b1f693d090fc7005658e': '311822758462024423293',
        '0xf0e2c47d4c9fbbbc2f2e19acdaa3c773a3ecd221': '3798510867427521230783',
        '0x6d12d3fe16dd83115254a32b273b05ac5444c349': '2024034521751602960504',
        '0x6a07a792ab2965c72a5b8088d3a069a7ac3a993b':
          '10031832009409480827.80764148277320273848',
        '0x0e8e7307e43301cf28c5d21d5fd3ef0876217d41': '4490541324359938009',
        '0xf7bf0f161d3240488807ffa23894452246049916': '13038531030595576298',
        '0x8bb1839393359895836688165f7c5878f8c81c5e': '150230169275696008878',
        '0xf3f0970bca8ce7e9672d17a301b54d1485d93807': '11345315791325136523379',
        '0x6fdc8415b654b0f60475944a0b9421dc36ee1363': '1829885439996744817',
        '0xd5e946b5619fff054c40d38c976f1d06c1e2fa82': '1018745321820277525',
        '0xfb66e49e303a186a4c57414ceeed651a7a78161a':
          '2252015679215.12236341307847129731',
        '0x152888854378201e173490956085c711f1ded565':
          '1238593371500810538569.1008096409335815629',
        '0xb66b5d38e183de42f21e92abcaf3c712dd5d6286':
          '1614801550102017603.20190804940859157429',
        '0xc758295cd1a564cdb020a78a681a838cf8e0627d':
          '325466843035723281080355.27327482657650795587',
        '0x2126be94443334fd71428dba3c638fb722d1838e':
          '74888572303595522906.01027005234679139302',
        '0x89346b51a54263cf2e92da79b1863759efa68692':
          '8543268301026868123.89561985382982050944',
        '0x63386ef152e1ddef96c065636d6cc0165ff33291': '7856221016349223880936',
        '0x5bb2dee206c2bcc5768b9b2865ea971bd9c0ff19': '52289131299398085014196',
        '0x74e23df9110aa9ea0b6ff2faee01e740ca1c642e':
          '5127275883570842221501445.94959049844489755374',
        '0x8b858eaf095a7337de6f9bc212993338773ca34e': '23416076943865122171839',
        '0x2fbb1ef03c02f9bb2bd6f8c8c24f8de347979d9e': '19044041080797832802836',
        '0x66bcb58cf9754f421c268990b280e4462e10aac8': '17143372932514095031426',
        '0x9af1f0e9ac9c844a4a4439d446c1437807183075': '7099101507531511122103',
        '0x593ae1d34c8bd7587c11d539e4f42bff242c82af':
          '69559303055.90583777681785058556',
        '0xb37528da6b4d378305d000a66ad91bd88e626761':
          '716639101092073.4498033357866568512',
      });
    });
    it('beethovenx block: 52155010', async () => {
      const { balances } = await factoryService.getTvl({
        provider: 'beethovenx',
        chain: 'fantom',
        query: { block: '52155010', date: '2022-12-11' },
      });
      expect(balances).toEqual({
        '0x04068da6c83afcfa0e13ba15a6696662335d5b75': '8785734571489',
        '0x10b620b2dbac4faa7d7ffd71da486f5d44cd86f9':
          '601960531395960951884673',
        '0x21be370d5312f44cb42ce377bc9b8a0cef1a4c83':
          '22900571283739808568175355',
        '0x44f7237df00e386af8e79b817d05ed9f6fe0f296': '5723219354895521368647',
        '0x511d35c52a3c244e7b8bd92c0c297755fbd89212': '3850728303946308005142',
        '0x82f0b8b456c1a451378467398982d4834b6829c1':
          '143916659615561622849060',
        '0x95dd59343a893637be1c3228060ee6afbf6f0730': '26504519770346',
        '0x9fb9a33956351cf4fa040f65a13b835a3c8764e3': '2498851417095931103443',
        '0x74b23882a30290451a17c44f4f05243b6b58c76d': '1179858306430795329696',
        '0x8d11ec38a3eb5e956b052f67da8bdc9bef8abf3e':
          '1706602717210885351378799',
        '0xc5a9848b9d145965d821aaec8fa32aaee026492d': '115468531942998760657',
        '0x30a9eb3ec69ed8e68c147b47b9c2e826380024a3': '64735167222595',
        '0x7893ae094dec343cd8080e78ee73ea1930d19abe': '232281774353816800',
        '0x98010a39f41e2ef41c4943936bd852a1843c9574': '68445412117',
        '0xc653c5128c8d135ff8ad796353128aff872ff1ba': '353073488219658415',
        '0xeeeeeb57642040be42185f49c52f7e9b38f8eeee': '10173006146792321854',
        '0x21ada0d2ac28c3a5fa3cd2ee30882da8812279b6':
          '10257585271982712437636594',
        '0xf24bcf4d1e507740041c9cfd2dddb29585adce1e':
          '105124508904012060888028573',
        '0xfcef8a994209d6916eb2c86cdd2afd60aa6f54b1':
          '363188294916318608678260',
        '0xa882ceac81b22fc2bef8e1a82e823e3e9603310b':
          '1876481203753554957984266',
        '0x814c66594a22404e101fecfecac1012d8d75c156': '61835640824987034890840',
        '0x9049198f6b21acf1e050cfcf36a6879a07b0bbe4': '372139129977359407',
        '0xfb66e49e303a186a4c57414ceeed651a7a78161a': '6',
        '0xf16e81dce15b08f326220742020379b855b87df9':
          '134526270759178727122781',
        '0x87a5c9b60a3aaf1064006fe64285018e50e0d020': '24758811757776935',
        '0xc8ca9026ad0882133ef126824f6852567c571a4e': '243085516125476',
        '0x7d59cdad5332efc72d7ee902c52873446e436b57': '689747372522510088',
        '0xe2d27f06f63d98b8e11b38b5b08a75d0c8dd62b9': '49512259870',
        '0xde5ed76e7c05ec5e4572cfc88d1acea165109e44': '121534380799335681565',
        '0x321162cd933e2be498cd2267a90534a804051b11': '8399479347',
        '0x6c021ae822bea943b2e66552bde1d2696a53fbb7': '9823507473052984654824',
        '0x841fad6eae12c286d1fd18d1d525dffa75c7effe': '83813130042005879161489',
        '0xa48d959ae2e88f1daa7d5f611e01908106de7598': '27040017714128945567561',
        '0xbf07093ccd6adfc3deb259c557b61e94c1f66945': '5545109502090578037',
        '0x0e249130b3545a2a287de9f27d805cab95f03db9':
          '346445500391065152818666',
        '0x95395f78eadf46d3893f4c1dd2c2bb27d169c6c2': '1681109',
        '0xe409e86058bac20128bff16fd0df6bb6f11404f0': '6411954',
        '0xe4ab52c6daad02ac62d9deffa51e7aa96b29e04b': '31001995',
        '0x1e4f97b9f9f913c46f1632781732927b9019c68b': '76283106670847172635845',
        '0x5cc61a78f164885776aa610fb0fe1257df78e59b':
          '25756053777012174966025636',
        '0xb3654dc3d10ea7645f8319668e8f54d2574fbdc8': '11657330863282949117740',
        '0xe0654c8e6fd4d733349ac7e09f6f23da256bf475': '2799772848865620096606',
        '0x05848b832e872d9edd84ac5718d58f21fd9c9649': '14254271929381580515',
        '0x9879abdea01a879644185341f7af7d8343556b7a': '4512270998693739051548',
        '0x38ce1fbc9b1eb4c2ed19268153a4280e522f0e6f': '42428101240',
        '0xd7028092c830b5c8fce061af2e593413ebbc1fc1':
          '13808292296046246227451439',
        '0xb6def0b5f584344a694c1af50f9cf23dd742f061':
          '9930491904173593584412352',
        '0xc6abcbc1d27c9586de063a2e2aec6cebec504646':
          '1007032596234975451332017',
        '0x593ae1d34c8bd7587c11d539e4f42bff242c82af': '9190425910633',
        '0x4b4491679440e6bdf98f664aa59441b82fb530ea': '200000000000000000',
        '0x645c0f570693388c8405556e6798e8ba72f5221a': '420000000000000000',
        '0x2d7117a92faade862305670e818d8ef30f32ba1a': '69940692057903',
        '0x846e4d51d7e2043c1a87e0ab7490b93fb940357b': '754343326141',
        '0x16dbd24713c1e6209142bcfeed8c170d83f84924': '70584645512256521614162',
        '0x3b57f3feaaf1e8254ec680275ee6e7727c7413c7': '4516841157899',
        '0xe992c5abddb05d86095b18a158251834d616f0d1': '325592374601735182583',
        '0xc5713b6a0f26bf0fdc1c52b90cd184d950be515c':
          '39174720396955485315222682',
        '0x3028b4395f98777123c7da327010c40f3c7cc4ef': '4112476',
        '0xce2fc0bdc18bd6a4d9a725791a3dee33f3a23bb7': '22292431354749566631',
        '0x049d68029688eabf473097a2fc38ef61633a3c7a': '55805510473',
        '0xaf319e5789945197e365e7f7fbfc56b130523b33': '135261',
        '0xc931f61b1534eb21d8c11b24f3f5ab2471d4ab50': '797774',
        '0xe3a486c1903ea794eed5d5fa0c9473c7d7708f40': '1887914733696337162',
        '0x29b0da86e484e1c0029b56e817912d778ac0ec69': '42226331509361552',
        '0xd6070ae98b8069de6b494332d1a1a81b6179d960': '3995856233356874331',
        '0xd8321aa83fb0a4ecd6348d4577431310a6e0814d': '6970787496574696112970',
        '0x07e6332dd090d287d3489245038daf987955dcfb': '65358007354265645',
        '0x25c130b2624cf12a4ea30143ef50c5d68cefa22f': '17993621395846',
        '0x39b3bd37208cbade74d0fcbdbb12d606295b430a': '82268859618331853',
        '0x688d5c6b26462e42c56b4ec1d1165ccade418f5d': '792691968198775',
        '0x582423c10c9e83387a96d00a69ba3d11ee47b7b5':
          '1442597876227878636681821',
        '0x888ef71766ca594ded1f0fa3ae64ed2941740a20': '95743045480563774445873',
        '0xa71353bb71dda105d383b02fc2dd172c4d39ef8b': '210418',
        '0xd31fcd1f7ba190dbc75354046f6024a9b86014d7': '827883914193052050007',
        '0x4cdf39285d7ca8eb3f090fda0c069ba5f4145b37': '1190994588678646307',
        '0xaa621d2002b5a6275ef62d7a065a865167914801': '33041',
        '0xfbd2945d3601f21540ddd85c29c5c3caf108b96f': '593327',
        '0xd67de0e0a0fd7b15dc8348bb9be742f3c5850454': '632057437624101686062',
        '0x7d016eec9c25232b01f23ef992d98ca97fc2af5a': '65396291868301593308',
        '0x412a13c109ac30f0db80ad3bd1defd5d0a6c0ac6': '564137071158362373968',
        '0xdc301622e621166bd8e82f2ca0a26c13ad0be355': '78692089174340731908',
        '0x117db78176c8ede4f12fcd29d85cd96b91a4cbbb':
          '8001113215430689076554337',
        '0x77128dfdd0ac859b33f44050c6fa272f34872b5e': '94410143378731034693933',
        '0xddc0385169797937066bbd8ef409b5b3c0dfeb52': '270541607567758135',
        '0x8de250c65636ef02a75e4999890c91cecd38d03d': '569975686',
        '0x8e2549225e21b1da105563d419d5689b80343e01': '9360396',
        '0xb5e4d17ffd9d0dce46d290750dad5f9437b5a16b': '1259591226426716503550',
        '0xd41bf724b6e31311db582c5388af6b316e812fe4': '4950000000000000000',
        '0x60e6afeb3ac2fbc82a8d312bea3b47dc6b4848d2': '517396',
        '0x85dec8c4b2680793661bca91a8f129607571863d':
          '2015390808034418420201977',
        '0xc5e2b037d30a390e62180970b3aa4e91868764cd':
          '2453030501548218117323038',
        '0xe55e19fb4f2d85af758950957714292dac1e25b2': '9253943',
        '0x40df1ae6074c35047bff66675488aa2f9f6384f3':
          '137958387191748954617858',
        '0xde12c7959e1a72bbe8a5f7a1dc8f8eef9ab011b3':
          '690314585216448349255347',
        '0xb37528da6b4d378305d000a66ad91bd88e626761': '369042',
        '0x468003b688943977e6130f4f68f23aad939a1040':
          '29815432666527857725731861',
        '0x7f620d7d0b3479b1655cefb1b0bc67fb0ef4e443': '19883771841132670850',
        '0xbb29d2a58d880af8aa5859e30470134deaf84f2b': '4687677828993684594854',
        '0x2b9d3f168905067d88d93f094c938bacee02b0cb': '27740971384',
        '0xfb98b335551a418cd0737375a2ea0ded62ea213b':
          '448163967982794334748024',
        '0x681a02302213c09171ddd45232cc5652e95ccc83': '1642500000000000000000',
        '0xd802df71f737f9c687c5d389fd6ac421d0666f10': '1642500000000000000000',
        '0x953cd009a490176fceb3a26b9753e6f01645ff28': '1701062530347887827',
        '0x471762a7017a5b1a3e931f1a97aa03ef1e7f4a73':
          '262695924702924818936969',
        '0x42538ce99111ea34dc2987b141bd6e9b594752d6':
          '5192296858534827617454897596120032',
        '0x44165fad0b7ea0d54d8856765d936d7026f9e2f2':
          '5192296858534827624578326040874783',
        '0x5ddb92a5340fd0ead3987d3661afcd6104c3b757':
          '5192296857490771937644059334046037',
        '0xc3bf643799237588b7a6b407b3fc028dd4e037d2':
          '5192296858532994387936749782831979',
        '0xa147268f35db4ae3932eabe42af16c36a8b89690':
          '1311959603209899390732659',
        '0x425ccc1390bed338d98daff91ff0f03738b534ef': '4214900482337972878',
        '0xa14310c69c7b069bb176d8a411dbab28918da758': '1978320615382204052834',
        '0x5602df4a94eb6c680190accfa2a475621e0ddbdc': '7249062',
        '0x7082ca5058c358997063400ad78306b16a5c30d9': '150000000000000',
        '0xe4517100ae62cbeefc363e59d0f8df5754dc7e40': '300000000000000',
        '0xe52a9eb2505a072324984c818c0f49c19c8b6abb': '150000000000000',
        '0x68aa691a8819b07988b18923f712f3f4c8d36346':
          '189781400369782531569434',
        '0xddcb3ffd12750b45d32e084887fdf1aabab34239': '1891291965868578005299',
        '0xae75a438b2e0cb8bb01ec1e1e376de11d44477cc': '4368249433373092182326',
        '0x92df3eabf7c1c2a6b3d5793f6d53778ea78c48b2': '99183367199072600496',
        '0x10010078a54396f62c96df8532dc2b4847d47ed3':
          '4845885903221723534780622',
        '0x2d72a97a31dc920db03330780d30074626e39c8a': '646060',
      });
    });
  });

  describe('hedera', () => {
    it('saucerswap block: 1671035539', async () => {
      const { balances } = await factoryService.getTvl({
        provider: 'saucerswap',
        chain: 'hedera',
        query: { block: '1671035539', date: '0' },
      });
      expect(balances).toEqual({
        hbar: '3361219575',
        '0.0.731861': '106625576159',
        '0.0.541564': '10861754661',
        '0.0.1460200': '11740393509015',
        '0.0.834116': '5402949774144902',
        '0.0.1237128': '343552957813',
        '0.0.784681': '136103',
        '0.0.1456986': '9130788642559892',
        '0.0.1450439': '12',
        '0.0.1304757': '111909289155',
        '0.0.1393903': '2',
        '0.0.959595': '41776',
        '0.0.1193542': '2122429',
        '0.0.1035881': '2452',
        '0.0.1113578': '1',
        '0.0.1463614': '363816572',
        '0.0.1173710': '1363288',
        '0.0.887176': '1308893',
        '0.0.899160': '347152371477018',
        '0.0.786931': '136030120875',
        '0.0.1397135': '106555648313685',
        '0.0.1311037': '134495',
        '0.0.1455944': '2654',
        '0.0.896303': '95949757',
        '0.0.777336': '4277191',
        '0.0.1144501': '853347',
        '0.0.1186797': '1852272146846',
        '0.0.1067095': '124586754099',
        '0.0.540318': '66046652370',
        '0.0.1055498': '726856908',
        coingecko_bitcoin: '10.81510827',
        '0.0.1157005': '25949835013',
        '0.0.127877': '6474796145590715',
        '0.0.624505': '1643090816669183',
        '0.0.843289': '79464932',
        '0.0.632593': '169034159',
        '0.0.859814': '236764746931',
        '0.0.968069': '969339773546924',
        '0.0.1045722': '67544685925586',
        '0.0.1190803': '6179932',
        '0.0.1079680': '139892',
        '0.0.1109951': '17391',
        '0.0.753578': '2645088622839',
        '0.0.1111899': '3270549917',
        '0.0.868062': '1299030518311',
        '0.0.751086': '75991732628',
        '0.0.1366011': '309',
        '0.0.1476024': '1372978',
        '0.0.1177799': '7000',
        '0.0.1471053': '6839861496',
        '0.0.1465770': '71497',
        '0.0.1304772': '222755240',
        '0.0.456858': '3249592',
      });
    });
    it('tangent block: 1670949783', async () => {
      const { balances } = await factoryService.getTvl({
        provider: 'tangent',
        chain: 'hedera',
        query: { block: '1670949783', date: '0' },
      });
      expect(balances).toEqual({
        hbar: '25639900732706',
        '0.0.148698': '3401184684',
        '0.0.987281': '60',
        '0.0.784681': '11027107794',
        '0.0.1111899': '12620',
        '0.0.777336': '200000',
        '0.0.1045722': '33614',
        '0.0.624505': '5740885455502728',
        '0.0.991591': '240626',
        '0.0.785041': '200000',
        '0.0.986812': '380000000',
        '0.0.1155716': '200000',
        '0.0.887176': '200000',
        '0.0.968069': '200000',
        '0.0.991630': '20',
        '0.0.868062': '4073877051551398',
        '0.0.991589': '446',
        '0.0.1045728': '200000',
        '0.0.859814': '806060',
        '0.0.1109951': '200000',
        '0.0.777266': '191367360',
        '0.0.1144501': '200000',
        '0.0.926385': '200000',
        '0.0.975336': '2000325136',
      });
    });
  });

  describe('tezos', () => {
    it('alien block: 2955365', async () => {
      await tezos.onModuleInit();
      const { balances } = await factoryService.getTvl({
        provider: 'alien',
        chain: 'tezos',
        query: { block: '2955365', date: '0' },
      });
      expect(balances).toEqual({
        KT19DUSZw7mfeEATrbWVPHRrWNVbNnmfFAE6:
          '249715664088144.12718220767259870011',
        KT1H5KJDxuM9DURSfttepebb6Cn7GbvAAT45:
          '165878849369.74953586084234066502',
        KT1XPFjZqCULSnqfKaaYy8hJjeY63UNSGwXg_0: '497068053.1162191356759715904',
        KT193D4vozYnhGJQVtw7CoxxqphqUEEwK6Vb_0:
          '241078174.13193946425867717656',
      });
    }, 1000000);
    it('plenty block: 2955365', async () => {
      await tezos.onModuleInit();
      const { balances } = await factoryService.getTvl({
        provider: 'wrapprotocol',
        chain: 'tezos',
        query: { block: '2955365', date: '0' },
      });
      expect(balances).toEqual({
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_0: '36043709917618147490',
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_1: '289868031771383495604700',
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_2: '4020041',
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_3: '7798299202315263415',
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_4: '11089733753413',
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_5: '104173410141251221065552',
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_6: '30009667729248861709',
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_7: '59699467914408847249',
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_8: '248321066328',
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_9: '228191800012206869815',
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_10: '14203355884512846375162',
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_11: '101859295633637265101693',
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_12: '855327737194690250',
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_13: '42615976704141157740',
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_14: '2866084783658307381347',
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_15: '396484842089866656148',
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_16: '1003579566448386701175',
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_17: '967101803925',
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_18: '120852313751',
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_19: '5979654498',
        KT18fp5rcTW7mbWDmzFwjLDUhs5MeJmagDSZ_20: '258851288718572944362',
        KT1LRboPna9yQY9BrjtQYDS1DVxhKESK4VVd: '201825249886635',
      });
    }, 1000000);
  });
});
